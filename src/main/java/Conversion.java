import java.util.HashMap;

/**
 * Created by supersupa on 2017. 2. 16..
 *
 * 4kyu / Roman Numerals Encoder
 * https://www.codewars.com/kata/51b62bf6a9c58071c600001b/train/java
 */
public class Conversion {


    public String solution(int n) {
        HashMap<Integer, String> ROMAN_NUMERALS = new HashMap<>();
        ROMAN_NUMERALS.put(1, "I");
        ROMAN_NUMERALS.put(5, "V");
        ROMAN_NUMERALS.put(10, "X");
        ROMAN_NUMERALS.put(50, "L");
        ROMAN_NUMERALS.put(100, "C");
        ROMAN_NUMERALS.put(500, "D");
        ROMAN_NUMERALS.put(1000, "M");

        int num = n;
        int digit = 0;
        while(num > 0) {
            num = num / 10;
            digit++;
        }

        String result = "";
        for (int i = digit - 1 ; i >= 0; i-- ) {
            int m1 = (int) Math.pow(10, i);
            int portion = n / m1;
            n = n % m1;

            if (portion == 10) {
                result += ROMAN_NUMERALS.get(m1 * 5);
                result += ROMAN_NUMERALS.get(m1 * 5);
                portion = 0;
            } else if (portion == 9) {
                result += ROMAN_NUMERALS.get(m1);
                result += ROMAN_NUMERALS.get(m1 * 10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      );
                portion = 0;
            } else if (portion >= 5) {
                result += ROMAN_NUMERALS.get(m1 * 5);
                portion -= 5;
            } else if (portion == 4) {
                result += ROMAN_NUMERALS.get(m1);
                result += ROMAN_NUMERALS.get(m1 * 5);
                portion = 0;
            }

            for (int j = 0; j < portion; j++) {
                result += ROMAN_NUMERALS.get(m1);
            }
        }
        return result;
    }

}
